{"ast":null,"code":"import _defineProperty from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/app/src/main/fun-with-friends/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{TextField,Input}from'@material-ui/core';var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignUp).call(this,props));_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var signUpResponse,signUpJsonRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return fetch(\"/signup\",{method:\"post\",headers:{'Content-Type':'application/json'},body:JSON.stringify({username:_this.state.username,email:_this.state.email,password:_this.state.password})});case 4:signUpResponse=_context.sent;_context.next=7;return signUpResponse.json();case 7:signUpJsonRes=_context.sent;localStorage.setItem('user',signUpJsonRes.token);console.log(signUpJsonRes);if(signUpJsonRes.token!=null){console.log(\"signup success!\");}else{localStorage.clear();alert('please enter valid user info');}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.log('Error creating new Course!');console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(event){console.log(\"event\");_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={username:'',email:'',password:'',password_confirmation:''};return _this;}_createClass(SignUp,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(TextField,{type:\"email\",name:\"email\",placeholder:\"Email\",value:this.state.email,onChange:this.handleChange,required:true}),React.createElement(TextField,{type:\"text\",name:\"username\",placeholder:\"username\",value:this.state.username,onChange:this.handleChange,required:true}),React.createElement(TextField,{type:\"password\",name:\"password\",placeholder:\"password\",value:this.state.password,onChange:this.handleChange,required:true}),React.createElement(TextField,{type:\"password\",name:\"password_confirmation\",placeholder:\"confirm password\",value:this.state.password_confirmation,onChange:this.handleChange,required:true}),React.createElement(Input,{type:\"submit\",placeholder:\"sign up!\"})));}}]);return SignUp;}(Component);var style={margin:15};export default SignUp;","map":{"version":3,"sources":["/app/src/main/fun-with-friends/src/components/SignUp.js"],"names":["React","Component","TextField","Input","SignUp","props","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","username","state","email","password","signUpResponse","json","signUpJsonRes","localStorage","setItem","token","console","log","clear","alert","handleChange","setState","target","name","value","password_confirmation","style","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {TextField, Input } from '@material-ui/core';\n\n\nclass SignUp extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            password_confirmation: ''\n        }\n    }\n\n    handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            const signUpResponse = await fetch(`/signup`, {\n                method: \"post\",\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    username: this.state.username,\n                    email: this.state.email,\n                    password: this.state.password\n                })\n            })\n\n            const signUpJsonRes = await signUpResponse.json();\n            localStorage.setItem('user', signUpJsonRes.token);\n            console.log(signUpJsonRes);\n            if (signUpJsonRes.token != null) {\n                console.log(\"signup success!\")\n            } else {\n                localStorage.clear();\n                alert('please enter valid user info');\n            }\n\n        } catch (error) {\n            console.log('Error creating new Course!')\n            console.log(error)\n        }\n    }\n    handleChange = (event) => {\n        console.log(\"event\");\n        this.setState({[event.target.name] : event.target.value})\n    }\n\n    render() {\n        return (\n            <div>\n                    <form onSubmit={this.handleSubmit}>\n                        <TextField\n                            type=\"email\"\n                            name=\"email\"\n                            placeholder=\"Email\"\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            required\n                        />\n\n                        <TextField\n                            type=\"text\"\n                            name=\"username\"\n                            placeholder=\"username\"\n                            value={this.state.username}\n                            onChange={this.handleChange}\n                            required\n                        />\n\n                        <TextField\n                            type=\"password\"\n                            name=\"password\"\n                            placeholder=\"password\"\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            required\n                        />\n                        <TextField\n                            type=\"password\"\n                            name=\"password_confirmation\"\n                            placeholder=\"confirm password\"\n                            value={this.state.password_confirmation}\n                            onChange={this.handleChange}\n                            required\n                        />\n                        <Input type=\"submit\" placeholder='sign up!'/>\n                    </form>\n            </div>\n        );\n    }\n}\n\nconst style = {\n    margin: 15,\n};\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}